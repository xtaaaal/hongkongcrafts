!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=u),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.BPBMswipe.defaults,t),this.each(function(){var O=e(this),D=O.data(P);D||(D=new function(t,O){function D(t){if(!0!==xe.data(P+"_intouch")&&!(e(t.target).closest(O.excludedElements,xe).length>0)){var o=t.originalEvent?t.originalEvent:t;if(!o.pointerType||"mouse"!=o.pointerType||0!=O.fallbackToMouseEvents){var a,u=o.touches,s=u?u[0]:o;return be=y,u?Se=u.length:!1!==O.preventDefaultEvents&&t.preventDefault(),pe=0,he=null,ge=null,Ee=null,de=0,we=0,ve=0,Te=1,ye=0,me=function(){var e={};return e[n]=te(n),e[r]=te(r),e[i]=te(i),e[l]=te(l),e}(),G(),K(0,s),!u||Se===O.fingers||O.fingers===v||Q()?(Pe=le(),2==Se&&(K(1,u[1]),we=ve=re(Me[0].start,Me[1].start)),(O.swipeStatus||O.pinchStatus)&&(a=U(o,be))):a=!1,!1===a?(be=x,U(o,be),a):(O.hold&&(ke=setTimeout(e.proxy(function(){xe.trigger("hold",[o.target]),O.hold&&(a=O.hold.call(xe,o,o.target))},this),O.longTapThreshold)),J(!0),null)}}}function L(t){var c=t.originalEvent?t.originalEvent:t;if(be!==m&&be!==x&&!Z()){var f,p=c.touches,h=$(p?p[0]:c);if(Oe=le(),p&&(Se=p.length),O.hold&&clearTimeout(ke),be=E,2==Se&&(0==we?(K(1,p[1]),we=ve=re(Me[0].start,Me[1].start)):($(p[1]),ve=re(Me[0].end,Me[1].end),Me[0].end,Me[1].end,Ee=Te<1?a:o),Te=function(e,t){return(t/e*1).toFixed(2)}(we,ve),ye=Math.abs(we-ve)),Se===O.fingers||O.fingers===v||!p||Q()){if(he=ie(h.start,h.end),ge=ie(h.last,h.end),function(e,t){if(!1===O.preventDefaultEvents)return;if(O.allowPageScroll===u)e.preventDefault();else{var o=O.allowPageScroll===s;switch(t){case n:(O.swipeLeft&&o||!o&&O.allowPageScroll!=d)&&e.preventDefault();break;case r:(O.swipeRight&&o||!o&&O.allowPageScroll!=d)&&e.preventDefault();break;case i:(O.swipeUp&&o||!o&&O.allowPageScroll!=w)&&e.preventDefault();break;case l:(O.swipeDown&&o||!o&&O.allowPageScroll!=w)&&e.preventDefault()}}}(t,ge),pe=function(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}(h.start,h.end),de=ne(),function(e,t){if(e==u)return;t=Math.max(t,ee(e)),me[e].distance=t}(he,pe),f=U(c,be),!O.triggerOnTouchEnd||O.triggerOnTouchLeave){var g=!0;if(O.triggerOnTouchLeave){var T=function(t){var n=(t=e(t)).offset();return{left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()}}(this);g=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(h.end,T)}!O.triggerOnTouchEnd&&g?be=I(E):O.triggerOnTouchLeave&&!g&&(be=I(m)),be!=x&&be!=m||U(c,be)}}else U(c,be=x);!1===f&&U(c,be=x)}}function B(e){var t=e.originalEvent?e.originalEvent:e,n=t.touches;if(n){if(n.length&&!Z())return function(e){De=le(),Le=e.touches.length+1}(t),!0;if(n.length&&Z())return!0}return Z()&&(Se=Le),Oe=le(),de=ne(),H()||!N()?U(t,be=x):O.triggerOnTouchEnd||!1===O.triggerOnTouchEnd&&be===E?(!1!==O.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),U(t,be=m)):!O.triggerOnTouchEnd&&V()?j(t,be=m,p):be===E&&U(t,be=x),J(!1),null}function R(){Se=0,Oe=0,Pe=0,we=0,ve=0,Te=1,G(),J(!1)}function k(e){var t=e.originalEvent?e.originalEvent:e;O.triggerOnTouchLeave&&(be=I(m),U(t,be))}function A(){xe.off(ae,D),xe.off(fe,R),xe.off(ue,L),xe.off(se,B),ce&&xe.off(ce,k),J(!1)}function I(e){var t=e,n=_(),r=N(),i=H();return!n||i?t=x:!r||e!=E||O.triggerOnTouchEnd&&!O.triggerOnTouchLeave?!r&&e==m&&O.triggerOnTouchLeave&&(t=x):t=m,t}function U(e,t){var n,r=e.touches;return(!C()||!F())&&!F()||(n=j(e,t,c)),(!q()||!Q())&&!Q()||!1===n||(n=j(e,t,f)),z()&&W()&&!1!==n?n=j(e,t,h):de>O.longTapThreshold&&pe<T&&O.longTap&&!1!==n?n=j(e,t,g):1!==Se&&b||!(isNaN(pe)||pe<O.threshold)||!V()||!1===n||(n=j(e,t,p)),t===x&&R(),t===m&&(r?r.length||R():R()),n}function j(t,u,s){var d;if(s==c){if(xe.trigger("swipeStatus",[u,he||null,pe||0,de||0,Se,Me,ge]),O.swipeStatus&&!1===(d=O.swipeStatus.call(xe,t,u,he||null,pe||0,de||0,Se,Me,ge)))return!1;if(u==m&&C()){if(clearTimeout(Re),clearTimeout(ke),xe.trigger("swipe",[he,pe,de,Se,Me,ge]),O.swipe&&!1===(d=O.swipe.call(xe,t,he,pe,de,Se,Me,ge)))return!1;switch(he){case n:xe.trigger("swipeLeft",[he,pe,de,Se,Me,ge]),O.swipeLeft&&(d=O.swipeLeft.call(xe,t,he,pe,de,Se,Me,ge));break;case r:xe.trigger("swipeRight",[he,pe,de,Se,Me,ge]),O.swipeRight&&(d=O.swipeRight.call(xe,t,he,pe,de,Se,Me,ge));break;case i:xe.trigger("swipeUp",[he,pe,de,Se,Me,ge]),O.swipeUp&&(d=O.swipeUp.call(xe,t,he,pe,de,Se,Me,ge));break;case l:xe.trigger("swipeDown",[he,pe,de,Se,Me,ge]),O.swipeDown&&(d=O.swipeDown.call(xe,t,he,pe,de,Se,Me,ge))}}}if(s==f){if(xe.trigger("pinchStatus",[u,Ee||null,ye||0,de||0,Se,Te,Me]),O.pinchStatus&&!1===(d=O.pinchStatus.call(xe,t,u,Ee||null,ye||0,de||0,Se,Te,Me)))return!1;if(u==m&&q())switch(Ee){case o:xe.trigger("pinchIn",[Ee||null,ye||0,de||0,Se,Te,Me]),O.pinchIn&&(d=O.pinchIn.call(xe,t,Ee||null,ye||0,de||0,Se,Te,Me));break;case a:xe.trigger("pinchOut",[Ee||null,ye||0,de||0,Se,Te,Me]),O.pinchOut&&(d=O.pinchOut.call(xe,t,Ee||null,ye||0,de||0,Se,Te,Me))}}return s==p?u!==x&&u!==m||(clearTimeout(Re),clearTimeout(ke),W()&&!z()?(Be=le(),Re=setTimeout(e.proxy(function(){Be=null,xe.trigger("tap",[t.target]),O.tap&&(d=O.tap.call(xe,t,t.target))},this),O.doubleTapThreshold)):(Be=null,xe.trigger("tap",[t.target]),O.tap&&(d=O.tap.call(xe,t,t.target)))):s==h?u!==x&&u!==m||(clearTimeout(Re),clearTimeout(ke),Be=null,xe.trigger("doubletap",[t.target]),O.doubleTap&&(d=O.doubleTap.call(xe,t,t.target))):s==g&&(u!==x&&u!==m||(clearTimeout(Re),Be=null,xe.trigger("longtap",[t.target]),O.longTap&&(d=O.longTap.call(xe,t,t.target)))),d}function N(){var e=!0;return null!==O.threshold&&(e=pe>=O.threshold),e}function H(){var e=!1;return null!==O.cancelThreshold&&null!==he&&(e=ee(he)-pe>=O.cancelThreshold),e}function _(){return!O.maxTimeThreshold||!(de>=O.maxTimeThreshold)}function q(){var e=X(),t=Y(),n=function(){if(null!==O.pinchThreshold)return ye>=O.pinchThreshold;return!0}();return e&&t&&n}function Q(){return!!(O.pinchStatus||O.pinchIn||O.pinchOut)}function C(){var e=_(),t=N(),n=X(),r=Y();return!H()&&r&&n&&t&&e}function F(){return!!(O.swipe||O.swipeStatus||O.swipeLeft||O.swipeRight||O.swipeUp||O.swipeDown)}function X(){return Se===O.fingers||O.fingers===v||!b}function Y(){return 0!==Me[0].end.x}function V(){return!!O.tap}function W(){return!!O.doubleTap}function z(){if(null==Be)return!1;var e=le();return W()&&e-Be<=O.doubleTapThreshold}function G(){De=0,Le=0}function Z(){var e=!1;if(De){le()-De<=O.fingerReleaseThreshold&&(e=!0)}return e}function J(e){xe&&(!0===e?(xe.on(ue,L),xe.on(se,B),ce&&xe.on(ce,k)):(xe.off(ue,L,!1),xe.off(se,B,!1),ce&&xe.off(ce,k,!1)),xe.data(P+"_intouch",!0===e))}function K(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Me[e]=n,n}function $(e){var t=void 0!==e.identifier?e.identifier:0,n=function(e){return Me[e]||null}(t);return null===n&&(n=K(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function ee(e){if(me[e])return me[e].distance}function te(e){return{direction:e,distance:0}}function ne(){return Oe-Pe}function re(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function ie(e,t){if(function(e,t){return e.x==t.x&&e.y==t.y}(e,t))return u;var o=function(e,t){var n=e.x-t.x,r=t.y-e.y,i=Math.atan2(r,n),l=Math.round(180*i/Math.PI);l<0&&(l=360-Math.abs(l));return l}(e,t);return o<=45&&o>=0?n:o<=360&&o>=315?n:o>=135&&o<=225?r:o>45&&o<135?l:i}function le(){return(new Date).getTime()}var O=e.extend({},O),oe=b||M||!O.fallbackToMouseEvents,ae=oe?M?S?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ue=oe?M?S?"MSPointerMove":"pointermove":"touchmove":"mousemove",se=oe?M?S?"MSPointerUp":"pointerup":"touchend":"mouseup",ce=oe?M?"mouseleave":null:"mouseleave",fe=M?S?"MSPointerCancel":"pointercancel":"touchcancel",pe=0,he=null,ge=null,de=0,we=0,ve=0,Te=1,ye=0,Ee=0,me=null,xe=e(t),be="start",Se=0,Me={},Pe=0,Oe=0,De=0,Le=0,Be=0,Re=null,ke=null;try{xe.on(ae,D),xe.on(fe,R)}catch(t){e.error("events not supported "+ae+","+fe+" on jQuery.swipe")}this.enable=function(){return this.disable(),xe.on(ae,D),xe.on(fe,R),xe},this.disable=function(){return A(),xe},this.destroy=function(){A(),xe.data(P,null),xe=null},this.option=function(t,n){if("object"==typeof t)O=e.extend(O,t);else if(void 0!==O[t]){if(void 0===n)return O[t];O[t]=n}else{if(!t)return O;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}(this,t),O.data(P,D))})}var n="left",r="right",i="up",l="down",o="in",a="out",u="none",s="auto",c="swipe",f="pinch",p="tap",h="doubletap",g="longtap",d="horizontal",w="vertical",v="all",T=10,y="start",E="move",m="end",x="cancel",b="ontouchstart"in window,S=window.navigator.msPointerEnabled&&!window.PointerEvent&&!b,M=(window.PointerEvent||window.navigator.msPointerEnabled)&&!b,P="TouchSwipe";e.fn.BPBMswipe=function(n){var r=e(this),i=r.data(P);if(i&&"string"==typeof n){if(i[n])return i[n].apply(i,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof n)i.option.apply(i,arguments);else if(!(i||"object"!=typeof n&&n))return t.apply(this,arguments);return r},e.fn.BPBMswipe.version="1.6.18",e.fn.BPBMswipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.BPBMswipe.phases={PHASE_START:y,PHASE_MOVE:E,PHASE_END:m,PHASE_CANCEL:x},e.fn.BPBMswipe.directions={LEFT:n,RIGHT:r,UP:i,DOWN:l,IN:o,OUT:a},e.fn.BPBMswipe.pageScroll={NONE:u,HORIZONTAL:d,VERTICAL:w,AUTO:s},e.fn.BPBMswipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:v}});